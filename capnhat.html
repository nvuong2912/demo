<!doctype html> <html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" >
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" >
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="css/layout.css" >
    <link rel="stylesheet" href="css/login.css" >
    <script src="js/angular.min.js"></script>
    <title>Cập Nhật Hồ Sơ</title>
  </head>
  <body class="cl">
    <div class="container" ng-app="myapp" ng-controller="myctrl">
        <header class="row">    
          <div class="col-md-12">
            <img src="images/banner.png" width="100%" />
          </div>   
        </header>
          <nav class="navbar navbar-expand-sm navbar-light bg-light">
            <a class="navbar-brand" href="index.html"><i class="fa fa-home"></i>&nbsp;FPT PolyTechnic</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="GT.html"><i class="fab fa-discord"></i>&nbsp;Giới Thiệu<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="LH.html"><i class="fas fa-address-card"></i>&nbsp;Liên Hệ<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="gopy.html"><i class="far fa-comments"></i>&nbsp;Góp Ý<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="HD.html"><i class="fas fa-question"></i>&nbsp;Hỏi Đáp<span class="sr-only">(current)</span></a>
                    </li>
                    
                    
                </ul>
                <ul class="navbar-nav nav ml-auto" >
                    <li class="nav-item dropdown" >
                      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <font color ="black" class="tk">Tài khoản</font> 
                      <style>
                       .tk{
                        background:
               url("images/bg13_zps2612a7c5.gif") repeat scroll 0 0%,
               url("images/bg4_zps012f7fcf.gif") repeat scroll 0 0%,
               url("images/bg5_zps9146c4c3.gif") repeat scroll 0 0;
             color: white;
           font-weight: bold;
           text-shadow: 1px 1px 0 #FF0000, 1px 2px 0 #000000, 1px 1px 6px #8B0000, 1px 1px 9px #FF0000
                       }
                     </style>
                     </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <a class="dropdown-item" href="login.html"></i><i class="fas fa-sign-in-alt"></i>&nbsp;Đăng nhập</a>
                      <a class="dropdown-item" href="Dangki.html"><i class="fas fa-user-tie"></i>&nbsp;Đăng ký thành viên</a>
                      <div class="dropdown-divider"></div>
                      <a class="dropdown-item" href="index.html"><i class="fas fa-sign-out-alt"></i>&nbsp;Đăng xuất</a>
                      <a class="dropdown-item" href="doipass.html"><i class="fas fa-key"></i>&nbsp;Đổi mật khẩu</a>
                      <a class="dropdown-item" href="capnhat.html"><i class="far fa-address-card"></i>&nbsp;Cập nhật hồ sơ</a>
                   
                    </div>
                  </li>
             </ul>
                   
                    
                </form>
            </div>
        </nav>  
        <div class="row">
        
          <article class="col-md-9" style="background-color:lightblue;text-align: center;">
            <form  name="frm">
              <div class="form-group col-md-12">

                  <div class="form-group">
                    <label>Tên Đăng Nhập:</label>
                    <input type="text" name="Username" style="width: 50%;"
                    pattern="[A-Za-z]{3,}" ng-model="student.username" placeholder="Username" required/>
                    <span ng-hide="frm.Username.$valid"
                     class="text-danger "style="font-size:13px;font-style: italic " >Phải từ 3 kí tự trở lên </span>
                     </div>

                    <div class="form-group">
                    <label>Mật Khẩu:</label>
                    <input type="password" name="password"style="width: 50%;margin-right:-42px; "
                    pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                    ng-model="student.password" placeholder="Password"  required/>
                    <br>
                    <span ng-hide="frm.password.$valid"
                    class="text-danger "style="font-size:13px;font-style: italic " >Phải chứa ít nhất một số và một chữ hoa và chữ thường và ít nhất 8 ký tự trở lên </span>
                  </div>

                  <div class="form-group">
                    <label>Địa chỉ Email:</label>
                    <input type="email" name="email" style="width: 50%;margin-right:-20px;   "ng-model="student.email" placeholder="Email" />
                    <span ng-hide="frm.email.$valid"
                    class="text-danger "style="font-size:13px;font-style: italic " > Vui Lòng email </span>
                    </div>

                    <div class="form-group">
                    <label>Họ Và Tên:</label>
                    <input type="text" name="txtFullname" style="width: 50%;margin-right:-40px;"
                     ng-model="student.fullname" placeholder="Fullname" />
                    <span ng-hide="frm.txtFullname.$valid"
                    class="text-danger "style="font-size:13px;font-style: italic " > Vui Lòng Nhập họ và tên </span>
                    </div>

                    <div class="form-group">
                    Giới tính: <label>
                      <input checked ng-checked="true" type="radio" name="sex"  ng-model="student.gender" id="sex" value="true" />Nam</label> 
                      <label><input type="radio" name="sex"  ng-model="student.gender" value="false"id="sex" />Nữ</label>
                    </div>

                    <div class="form-group">
                      <label>Ngày Sinh:</label>
                      <input type="text" name="date" ng-model="student.birthday " pattern="([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))"
                      style="width: 50%;margin-right:-40px;" placeholder="YYYY-MM-DD"/><br>
                      <span ng-hide="frm.date.$valid"
                    class="text-danger "style="font-size:13px;font-style: italic " > Nhập đúng định dạng YYYY-MM-DD </span>
                    </div>


                    <div class="form-group">
                      <label>Học Phí:</label>
                      <input type="number" name="fee"  style="width: 50%;margin-right:-60px;"
                      ng-model="student.schoolfee"  placeholder="schoolfee" min="1000000"/>
                      <span ng-hide="frm.fee.$valid"
                      class="text-danger "style="font-size:13px;font-style: italic " > Học Phí ít nhất là 1 triệu</span>
                    </div>


                    <div class="form-group">
                      <label>Điểm:</label>
                      <input type="number" name="mark" style="width: 50%;margin-right:-80px;" min="0" max="10"
                       ng-model="student.marks " placeholder="Mark"/>
                       <span ng-hide="frm.mark.$valid"
                      class="text-danger "style="font-size:13px;font-style: italic " >Điểm từ 0 đến 10</span>
                      </div>
                       <button type="button"  class="btn btn-secondary" ng-click="update()" ><i class="far fa-save"></i>&nbsp;Cập Nhật</button>                                              
                
              </div>
            </form>
          </article>
        <aside class="col-md-3 " >
            <div class="card">
              <div class="card-header" data-toggle="collapse" href="#collapseExample1" role="button"
              aria-expanded="false" aria-controls="collapseExample">
              <i class="fas fa-list " ></i> <a class="rainbow">DANH MỤC MÔN HỌC     </a>  
              <style>
                .rainbow{
                 background:
     
     url("images/bg4_zps012f7fcf.gif") repeat scroll 0 0%,
     url("images/bg5_zps9146c4c3.gif") repeat scroll 0 0;
                }
              </style>    
              </div>
              <div class="collapse" id="collapseExample1">
                <div class="list-group">
                  <li class="list-group-item" ><a href="tracnghiem.html">Lập trình Android nâng cao</a></li>
                  <li class="list-group-item" ng-repeat="x in subjects">{{x.Name}}</li>
                 
                </div>
              </div>
            </div>
          </aside>
          <hr>
          </div>
          <div class="panel panel-default" ng-controller="myctrl2" >
            <div class="panel-heading" style="text-align: center;width: 50%;">
             
            </div>
            <table class="table table-bordered table-condense">
                <thead >
                    <tr >
                        <th>Username</th>
                        <th>Password</th>
                        <th>Fullname</th>
                        <th>Email</th>
                        <th>Gender</th>
                        <th>Date of Birth</th>  
                        <th>Học Phí</th>     
                        <th>Điểm</th>  
                        
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="(key,value) in $parent.students">
                        <td>{{value.username}}</td>
                        <td>{{value.password}}</td>
                        <td>{{value.fullname}}</td>
                        <td>{{value.email}}</td>
                        <td>{{value.gender}}</td>
                        <td>{{value.birthday | date:'dd/MM/yyyy'}}</td>
                        <td>{{value.schoolfee}}</td>
                       <td>{{value.marks}}</td> 
                        <td>
                          <a href="#" ng-click="edit($index)">Sửa</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
      
          <script>
            var app = angular.module('myapp', []);
            app.controller('myctrl', function ($scope, $http) {
              $http.get('db/Students.js').then(function (response) {
                $scope.students = response.data;
                
          $scope.index = -1;
     
        $scope.update = function (){
          $scope.students[$scope.index] = angular.copy($scope.student);
          
        }
       

        
        $scope.edit = function (index){
          $scope.index = index;
          $scope.student = angular.copy($scope.students[index]);
        }
              });
              $scope.subjects = [];
              $http.get('db/Subjects.js').then(function (response) {
                $scope.subjects = response.data;
              }, function (response) {
                alert("lỗi");
              });
             // THÊM THÔNG TIN
             $scope.student ={};
          $scope.students=[];
          $scope.index=-1;
            });
           
              app.controller("myctrl2", function($scope){
          $scope.$parent.students = [];
          
            });
          </script>
    
  </body>
</html>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" ></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>